(()=>{"use strict";var e={47:(e,t,r)=>{var o=r(751),a=r(641);const i={id:"app"};function n(e,t,r,o,n,d){const l=(0,a.g2)("router-view");return(0,a.uX)(),(0,a.CE)("div",i,[(0,a.bF)(l)])}const d={name:"App"};var l=r(262);const u=(0,l.A)(d,[["render",n]]),c=u;var s=r(220);function p(e,t,r,i,n,d){return(0,a.uX)(),(0,a.CE)("div",null,[t[10]||(t[10]=(0,a.Lk)("h1",null,"Register",-1)),(0,a.Lk)("form",{onSubmit:t[4]||(t[4]=(0,o.D$)(((...e)=>d.register&&d.register(...e)),["prevent"]))},[(0,a.Lk)("div",null,[t[5]||(t[5]=(0,a.Lk)("label",{for:"name"},"Name:",-1)),(0,a.bo)((0,a.Lk)("input",{id:"name","onUpdate:modelValue":t[0]||(t[0]=e=>n.form.name=e),required:""},null,512),[[o.Jo,n.form.name]])]),(0,a.Lk)("div",null,[t[6]||(t[6]=(0,a.Lk)("label",{for:"email"},"Email:",-1)),(0,a.bo)((0,a.Lk)("input",{id:"email",type:"email","onUpdate:modelValue":t[1]||(t[1]=e=>n.form.email=e),required:""},null,512),[[o.Jo,n.form.email]])]),(0,a.Lk)("div",null,[t[7]||(t[7]=(0,a.Lk)("label",{for:"password"},"Password:",-1)),(0,a.bo)((0,a.Lk)("input",{id:"password",type:"password","onUpdate:modelValue":t[2]||(t[2]=e=>n.form.password=e),required:""},null,512),[[o.Jo,n.form.password]])]),(0,a.Lk)("div",null,[t[8]||(t[8]=(0,a.Lk)("label",{for:"password_confirmation"},"Confirm Password:",-1)),(0,a.bo)((0,a.Lk)("input",{id:"password_confirmation",type:"password","onUpdate:modelValue":t[3]||(t[3]=e=>n.form.password_confirmation=e),required:""},null,512),[[o.Jo,n.form.password_confirmation]])]),t[9]||(t[9]=(0,a.Lk)("button",{type:"submit"},"Register",-1))],32)])}var m=r(505),h=r.n(m);const g={name:"Register",data(){return{form:{name:"",email:"",password:"",password_confirmation:""}}},methods:{register(){h().post("/api/register",this.form).then((()=>{this.$router.push({name:"Login"})})).catch((e=>{console.error("Registration failed:",e)}))}}},k=(0,l.A)(g,[["render",p],["__scopeId","data-v-dbc8d060"]]),f=k;function v(e,t,r,i,n,d){return(0,a.uX)(),(0,a.CE)("div",null,[t[6]||(t[6]=(0,a.Lk)("h1",null,"Login",-1)),(0,a.Lk)("form",{onSubmit:t[2]||(t[2]=(0,o.D$)(((...e)=>d.login&&d.login(...e)),["prevent"]))},[(0,a.Lk)("div",null,[t[3]||(t[3]=(0,a.Lk)("label",{for:"email"},"Email:",-1)),(0,a.bo)((0,a.Lk)("input",{id:"email",type:"email","onUpdate:modelValue":t[0]||(t[0]=e=>n.form.email=e),required:""},null,512),[[o.Jo,n.form.email]])]),(0,a.Lk)("div",null,[t[4]||(t[4]=(0,a.Lk)("label",{for:"password"},"Password:",-1)),(0,a.bo)((0,a.Lk)("input",{id:"password",type:"password","onUpdate:modelValue":t[1]||(t[1]=e=>n.form.password=e),required:""},null,512),[[o.Jo,n.form.password]])]),t[5]||(t[5]=(0,a.Lk)("button",{type:"submit"},"Login",-1))],32)])}const L={name:"Login",data(){return{form:{email:"",password:""}}},methods:{login(){h().post("/api/login",this.form).then((e=>{const t=e.data.access_token;localStorage.setItem("auth_token",t),h().defaults.headers.common["Authorization"]=`Bearer ${t}`,this.$router.push({name:"Profile"})})).catch((e=>{console.error("Login failed:",e)}))}}},C=(0,l.A)(L,[["render",v],["__scopeId","data-v-44d0d179"]]),b=C;var y=r(33);const P={key:0},E={key:1};function _(e,t,r,o,i,n){return(0,a.uX)(),(0,a.CE)("div",null,[t[3]||(t[3]=(0,a.Lk)("h1",null,"User Profile",-1)),i.loading?((0,a.uX)(),(0,a.CE)("div",P,"Loading profile...")):((0,a.uX)(),(0,a.CE)("div",E,[(0,a.Lk)("p",null,[t[1]||(t[1]=(0,a.Lk)("strong",null,"Name:",-1)),(0,a.eW)(" "+(0,y.v_)(i.profile.name),1)]),(0,a.Lk)("p",null,[t[2]||(t[2]=(0,a.Lk)("strong",null,"Email:",-1)),(0,a.eW)(" "+(0,y.v_)(i.profile.email),1)]),(0,a.Lk)("button",{onClick:t[0]||(t[0]=(...e)=>n.logout&&n.logout(...e))},"Logout")]))])}const w={name:"Profile",data(){return{profile:{},loading:!1}},methods:{fetchProfile(){this.loading=!0,h().get("/api/profile").then((e=>{this.profile=e.data})).catch((e=>{console.error("Failed to fetch profile:",e)})).finally((()=>{this.loading=!1}))},logout(){h().post("/api/logout").then((()=>{localStorage.removeItem("auth_token"),delete h().defaults.headers.common["Authorization"],this.$router.push({name:"Login"})})).catch((e=>{console.error("Logout failed:",e)}))}},mounted(){this.fetchProfile()}},I=(0,l.A)(w,[["render",_],["__scopeId","data-v-b5d4c45e"]]),X=I,$={key:0},F={key:1},A=["src"],S=["onClick"],O=["onClick"];function U(e,t,r,o,i,n){return(0,a.uX)(),(0,a.CE)("div",null,[t[1]||(t[1]=(0,a.Lk)("h1",null,"Product List",-1)),i.loading?((0,a.uX)(),(0,a.CE)("div",$,"Loading products...")):((0,a.uX)(),(0,a.CE)("div",F,[(0,a.Lk)("ul",null,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(i.products,(e=>((0,a.uX)(),(0,a.CE)("li",{key:e.id},[(0,a.Lk)("h3",null,(0,y.v_)(e.name),1),(0,a.Lk)("p",null,(0,y.v_)(e.description),1),(0,a.Lk)("p",null,"Price: $"+(0,y.v_)(e.price.toFixed(2)),1),e.image?((0,a.uX)(),(0,a.CE)("img",{key:0,src:n.getImageUrl(e.image),alt:"Product Image",width:"100"},null,8,A)):(0,a.Q3)("",!0),(0,a.Lk)("button",{onClick:t=>n.editProduct(e.id)},"Edit",8,S),(0,a.Lk)("button",{onClick:t=>n.deleteProduct(e.id)},"Delete",8,O)])))),128))]),(0,a.Lk)("button",{onClick:t[0]||(t[0]=(...e)=>n.createProduct&&n.createProduct(...e))},"Add New Product")]))])}const q={name:"ProductList",data(){return{products:[],loading:!1}},methods:{getImageUrl(e){return`${(void 0).VITE_API_BASE_URL}/storage/${e}`},fetchProducts(){this.loading=!0,h().get("/api/products").then((e=>{this.products=e.data})).catch((e=>{console.error("Failed to fetch products:",e)})).finally((()=>{this.loading=!1}))},createProduct(){this.$router.push({name:"ProductCreateEdit",params:{id:"new"}})},editProduct(e){this.$router.push({name:"ProductCreateEdit",params:{id:e}})},deleteProduct(e){confirm("Are you sure you want to delete this product?")&&h()["delete"](`/api/products/${e}`).then((()=>{this.fetchProducts()})).catch((e=>{console.error("Failed to delete product:",e)}))}},mounted(){this.fetchProducts()}},M=(0,l.A)(q,[["render",U],["__scopeId","data-v-ff06f532"]]),V=M,J={key:0},N=["src"],R={type:"submit"};function x(e,t,r,i,n,d){return(0,a.uX)(),(0,a.CE)("div",null,[(0,a.Lk)("h1",null,(0,y.v_)(n.isNew?"Create Product":"Edit Product"),1),(0,a.Lk)("form",{onSubmit:t[6]||(t[6]=(0,o.D$)(((...e)=>d.submitForm&&d.submitForm(...e)),["prevent"]))},[(0,a.Lk)("div",null,[t[7]||(t[7]=(0,a.Lk)("label",{for:"name"},"Name:",-1)),(0,a.bo)((0,a.Lk)("input",{id:"name","onUpdate:modelValue":t[0]||(t[0]=e=>n.product.name=e),required:""},null,512),[[o.Jo,n.product.name]])]),(0,a.Lk)("div",null,[t[8]||(t[8]=(0,a.Lk)("label",{for:"price"},"Price:",-1)),(0,a.bo)((0,a.Lk)("input",{id:"price",type:"number","onUpdate:modelValue":t[1]||(t[1]=e=>n.product.price=e),required:""},null,512),[[o.Jo,n.product.price,void 0,{number:!0}]])]),(0,a.Lk)("div",null,[t[9]||(t[9]=(0,a.Lk)("label",{for:"description"},"Description:",-1)),(0,a.bo)((0,a.Lk)("textarea",{id:"description","onUpdate:modelValue":t[2]||(t[2]=e=>n.product.description=e)},null,512),[[o.Jo,n.product.description]])]),(0,a.Lk)("div",null,[t[10]||(t[10]=(0,a.Lk)("label",{for:"category"},"Category:",-1)),(0,a.bo)((0,a.Lk)("input",{id:"category","onUpdate:modelValue":t[3]||(t[3]=e=>n.product.category=e)},null,512),[[o.Jo,n.product.category]])]),(0,a.Lk)("div",null,[t[11]||(t[11]=(0,a.Lk)("label",{for:"image"},"Image:",-1)),(0,a.Lk)("input",{id:"image",type:"file",onChange:t[4]||(t[4]=(...e)=>d.handleFileChange&&d.handleFileChange(...e))},null,32),n.previewImage?((0,a.uX)(),(0,a.CE)("div",J,[(0,a.Lk)("img",{src:n.previewImage,alt:"Preview",width:"100"},null,8,N)])):(0,a.Q3)("",!0)]),(0,a.Lk)("button",R,(0,y.v_)(n.isNew?"Create":"Update"),1),(0,a.Lk)("button",{onClick:t[5]||(t[5]=(0,o.D$)(((...e)=>d.cancel&&d.cancel(...e)),["prevent"]))},"Cancel")],32)])}const T={name:"ProductCreateEdit",data(){return{product:{name:"",price:0,description:"",category:"",image:null},previewImage:null,isNew:!0}},methods:{fetchProduct(){"new"!==this.$route.params.id&&(this.isNew=!1,h().get(`/api/products/${this.$route.params.id}`).then((e=>{this.product=e.data,this.product.image&&(this.previewImage=`${(void 0).VITE_API_BASE_URL}/storage/${this.product.image}`)})).catch((e=>{console.error("Failed to fetch product:",e)})))},handleFileChange(e){const t=e.target.files[0];this.product.image=t,this.previewImage=URL.createObjectURL(t)},submitForm(){const e=new FormData;e.append("name",this.product.name),e.append("price",this.product.price),e.append("description",this.product.description),e.append("category",this.product.category),this.product.image instanceof File&&e.append("image",this.product.image),this.isNew?h().post("/api/products",e).then((()=>{this.$router.push({name:"ProductList"})})).catch((e=>{console.error("Failed to create product:",e)})):h().post(`/api/products/${this.$route.params.id}`,e,{headers:{"X-HTTP-Method-Override":"PUT"}}).then((()=>{this.$router.push({name:"ProductList"})})).catch((e=>{console.error("Failed to update product:",e)}))},cancel(){this.$router.push({name:"ProductList"})}},mounted(){this.fetchProduct()}},j=(0,l.A)(T,[["render",x],["__scopeId","data-v-061ab3c2"]]),D=j,Q={key:0},H={key:1},K=["onClick"],B={key:0};function Y(e,t,r,o,i,n){return(0,a.uX)(),(0,a.CE)("div",null,[t[1]||(t[1]=(0,a.Lk)("h1",null,"Your Cart",-1)),i.loading?((0,a.uX)(),(0,a.CE)("div",Q,"Loading cart items...")):((0,a.uX)(),(0,a.CE)("div",H,[(0,a.Lk)("ul",null,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(i.cartItems,(e=>((0,a.uX)(),(0,a.CE)("li",{key:e.id},[(0,a.Lk)("h3",null,(0,y.v_)(e.product.name),1),(0,a.Lk)("p",null,"Quantity: "+(0,y.v_)(e.quantity),1),(0,a.Lk)("p",null,"Price: $"+(0,y.v_)((e.product.price*e.quantity).toFixed(2)),1),(0,a.Lk)("button",{onClick:t=>n.removeItem(e.id)},"Remove",8,K)])))),128))]),0===i.cartItems.length?((0,a.uX)(),(0,a.CE)("div",B,"Your cart is empty.")):(0,a.Q3)("",!0),i.cartItems.length>0?((0,a.uX)(),(0,a.CE)("button",{key:1,onClick:t[0]||(t[0]=(...e)=>n.checkout&&n.checkout(...e))},"Checkout")):(0,a.Q3)("",!0)]))])}const z={name:"Cart",data(){return{cartItems:[],loading:!1}},methods:{fetchCart(){this.loading=!0,h().get("/api/cart").then((e=>{this.cartItems=e.data})).catch((e=>{console.error("Failed to fetch cart:",e)})).finally((()=>{this.loading=!1}))},removeItem(e){h()["delete"](`/api/cart/${e}`).then((()=>{this.fetchCart()})).catch((e=>{console.error("Failed to remove item:",e)}))},checkout(){this.$router.push({name:"OrderHistory"})}},mounted(){this.fetchCart()}},W=(0,l.A)(z,[["render",Y],["__scopeId","data-v-770f1918"]]),G=W,Z={key:0},ee={key:1},te={key:0};function re(e,t,r,o,i,n){return(0,a.uX)(),(0,a.CE)("div",null,[t[0]||(t[0]=(0,a.Lk)("h1",null,"Order History",-1)),i.loading?((0,a.uX)(),(0,a.CE)("div",Z,"Loading orders...")):((0,a.uX)(),(0,a.CE)("div",ee,[(0,a.Lk)("ul",null,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(i.orders,(e=>((0,a.uX)(),(0,a.CE)("li",{key:e.id},[(0,a.Lk)("h3",null,"Order #"+(0,y.v_)(e.id)+" - Status: "+(0,y.v_)(e.status),1),(0,a.Lk)("p",null,"Total: $"+(0,y.v_)(e.total.toFixed(2)),1),(0,a.Lk)("ul",null,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.orderItems,(e=>((0,a.uX)(),(0,a.CE)("li",{key:e.id},(0,y.v_)(e.product.name)+" - Quantity: "+(0,y.v_)(e.quantity)+" - Price: $"+(0,y.v_)(e.price.toFixed(2)),1)))),128))])])))),128))]),0===i.orders.length?((0,a.uX)(),(0,a.CE)("div",te,"You have no orders.")):(0,a.Q3)("",!0)]))])}const oe={name:"OrderHistory",data(){return{orders:[],loading:!1}},methods:{fetchOrders(){this.loading=!0,h().get("/api/orders").then((e=>{this.orders=e.data})).catch((e=>{console.error("Failed to fetch orders:",e)})).finally((()=>{this.loading=!1}))}},mounted(){this.fetchOrders()}},ae=(0,l.A)(oe,[["render",re],["__scopeId","data-v-9fb64856"]]),ie=ae,ne={key:0},de={key:1},le=["onClick"],ue=["onClick"],ce=["onClick"];function se(e,t,r,o,i,n){return(0,a.uX)(),(0,a.CE)("div",null,[t[1]||(t[1]=(0,a.Lk)("h1",null,"CMS Management",-1)),i.loading?((0,a.uX)(),(0,a.CE)("div",ne,"Loading CMS pages...")):((0,a.uX)(),(0,a.CE)("div",de,[(0,a.Lk)("ul",null,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(i.cmsPages,(e=>((0,a.uX)(),(0,a.CE)("li",{key:e.id},[(0,a.Lk)("h3",null,(0,y.v_)(e.title),1),(0,a.Lk)("p",null,(0,y.v_)(e.content),1),(0,a.Lk)("button",{onClick:t=>n.editPage(e.id)},"Edit",8,le),e.is_archived?((0,a.uX)(),(0,a.CE)("button",{key:1,onClick:t=>n.unarchivePage(e.id)},"Unarchive",8,ce)):((0,a.uX)(),(0,a.CE)("button",{key:0,onClick:t=>n.archivePage(e.id)},"Archive",8,ue))])))),128))]),(0,a.Lk)("button",{onClick:t[0]||(t[0]=(...e)=>n.createPage&&n.createPage(...e))},"Add New CMS Page")]))])}const pe={name:"CMSManagement",data(){return{cmsPages:[],loading:!1}},methods:{fetchCMSPages(){this.loading=!0,h().get("/api/cms-pages").then((e=>{this.cmsPages=e.data})).catch((e=>{console.error("Failed to fetch CMS pages:",e)})).finally((()=>{this.loading=!1}))},createPage(){this.$router.push({name:"CMSCreateEdit",params:{id:"new"}})},editPage(e){this.$router.push({name:"CMSCreateEdit",params:{id:e}})},archivePage(e){h().post(`/api/cms-pages/${e}/archive`).then((()=>{this.fetchCMSPages()})).catch((e=>{console.error("Failed to archive page:",e)}))},unarchivePage(e){h().post(`/api/cms-pages/${e}/archive`).then((()=>{this.fetchCMSPages()})).catch((e=>{console.error("Failed to unarchive page:",e)}))}},mounted(){this.fetchCMSPages()}},me=(0,l.A)(pe,[["render",se],["__scopeId","data-v-feddbc7e"]]),he=me,ge=[{path:"/register",name:"Register",component:f},{path:"/login",name:"Login",component:b},{path:"/profile",name:"Profile",component:X,meta:{requiresAuth:!0}},{path:"/products",name:"ProductList",component:V,meta:{requiresAuth:!0}},{path:"/products/create",name:"ProductCreate",component:D,meta:{requiresAuth:!0}},{path:"/products/edit/:id",name:"ProductEdit",component:D,meta:{requiresAuth:!0}},{path:"/cart",name:"Cart",component:G,meta:{requiresAuth:!0}},{path:"/orders",name:"OrderHistory",component:ie,meta:{requiresAuth:!0}},{path:"/cms",name:"CMSManagement",component:he,meta:{requiresAuth:!0}},{path:"/",redirect:"/login"}],ke=(0,s.aE)({history:(0,s.LA)(),routes:ge});ke.beforeEach(((e,t,r)=>{const o=!!localStorage.getItem("auth_token");e.meta.requiresAuth&&!o?r({name:"Login"}):r()}));const fe=ke,ve=(0,o.Ef)(c);ve.use(fe),ve.mount("#app")}},t={};function r(o){var a=t[o];if(void 0!==a)return a.exports;var i=t[o]={exports:{}};return e[o](i,i.exports,r),i.exports}r.m=e,(()=>{var e=[];r.O=(t,o,a,i)=>{if(!o){var n=1/0;for(c=0;c<e.length;c++){for(var[o,a,i]=e[c],d=!0,l=0;l<o.length;l++)(!1&i||n>=i)&&Object.keys(r.O).every((e=>r.O[e](o[l])))?o.splice(l--,1):(d=!1,i<n&&(n=i));if(d){e.splice(c--,1);var u=a();void 0!==u&&(t=u)}}return t}i=i||0;for(var c=e.length;c>0&&e[c-1][2]>i;c--)e[c]=e[c-1];e[c]=[o,a,i]}})(),(()=>{r.n=e=>{var t=e&&e.__esModule?()=>e["default"]:()=>e;return r.d(t,{a:t}),t}})(),(()=>{r.d=(e,t)=>{for(var o in t)r.o(t,o)&&!r.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})}})(),(()=>{r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()})(),(()=>{r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t)})(),(()=>{var e={524:0};r.O.j=t=>0===e[t];var t=(t,o)=>{var a,i,[n,d,l]=o,u=0;if(n.some((t=>0!==e[t]))){for(a in d)r.o(d,a)&&(r.m[a]=d[a]);if(l)var c=l(r)}for(t&&t(o);u<n.length;u++)i=n[u],r.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return r.O(c)},o=self["webpackChunkecomerce_admin"]=self["webpackChunkecomerce_admin"]||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))})();var o=r.O(void 0,[504],(()=>r(47)));o=r.O(o)})();
//# sourceMappingURL=app.3eb091ea.js.map